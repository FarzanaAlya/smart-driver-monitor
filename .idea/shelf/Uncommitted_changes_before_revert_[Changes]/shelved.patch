Index: src/thingsboard_client.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import time\r\nfrom dataclasses import dataclass\r\nfrom typing import Dict, Any, Optional, Tuple\r\n\r\nimport requests\r\n\r\n\r\n@dataclass(frozen=True)\r\nclass ThingsBoardConfig:\r\n    \"\"\"\r\n    ThingsBoard configuration.\r\n    \"\"\"\r\n    host: str  # e.g., https://thingsboard.cloud\r\n    device_token: str  # device access token\r\n    timeout_s: int = 10\r\n    retries: int = 3\r\n    backoff_s: float = 1.0\r\n\r\n\r\nclass ThingsBoardClient:\r\n    \"\"\"\r\n    Telemetry upload client using HTTP POST + JSON.\r\n    \"\"\"\r\n    def __init__(self, cfg: ThingsBoardConfig):\r\n        self.cfg = cfg\r\n\r\n    @property\r\n    def telemetry_url(self) -> str:\r\n        return f\"{self.cfg.host.rstrip('/')}/api/v1/{self.cfg.device_token}/telemetry\"\r\n\r\n    def send_telemetry(self, payload: Dict[str, Any]) -> Tuple[bool, Optional[int], str]:\r\n        \"\"\"\r\n        Sends telemetry with basic retry/backoff.\r\n        Returns: (ok, http_status, message)\r\n        \"\"\"\r\n        last_status = None\r\n        last_err = \"\"\r\n\r\n        for attempt in range(1, self.cfg.retries + 1):\r\n            try:\r\n                r = requests.post(self.telemetry_url, json=payload, timeout=self.cfg.timeout_s)\r\n                last_status = r.status_code\r\n                if r.status_code == 200:\r\n                    return True, r.status_code, \"OK\"\r\n                last_err = f\"HTTP {r.status_code}: {r.text[:200]}\"\r\n            except requests.RequestException as e:\r\n                last_err = f\"Request error: {e}\"\r\n\r\n            time.sleep(self.cfg.backoff_s * attempt)\r\n\r\n        return False, last_status, last_err\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/thingsboard_client.py b/src/thingsboard_client.py
--- a/src/thingsboard_client.py	(revision 9e7ce0ee5c3dc204ade615dbf3a5e703c5178985)
+++ b/src/thingsboard_client.py	(date 1766977307516)
@@ -10,8 +10,8 @@
     """
     ThingsBoard configuration.
     """
-    host: str  # e.g., https://thingsboard.cloud
-    device_token: str  # device access token
+    host: str https://thingsboard.cloud
+    device_token: 4lzxxn96epsem7gn3wiz
     timeout_s: int = 10
     retries: int = 3
     backoff_s: float = 1.0
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.9 (CSC4700)\" project-jdk-type=\"Python SDK\" />\r\n</project>
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 9e7ce0ee5c3dc204ade615dbf3a5e703c5178985)
+++ b/.idea/misc.xml	(date 1766977154073)
@@ -1,4 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
+  <component name="Black">
+    <option name="sdkName" value="Python 3.9 (CSC4700)" />
+  </component>
   <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.9 (CSC4700)" project-jdk-type="Python SDK" />
 </project>
\ No newline at end of file
Index: src/thingsboard_client.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import time\r\nfrom dataclasses import dataclass\r\nfrom typing import Dict, Any, Optional, Tuple\r\n\r\nimport requests\r\n\r\n\r\n@dataclass(frozen=True)\r\nclass ThingsBoardConfig:\r\n    \"\"\"\r\n    ThingsBoard configuration.\r\n    \"\"\"\r\n    host: str  # e.g., https://thingsboard.cloud\r\n    device_token: str  # device access token\r\n    timeout_s: int = 10\r\n    retries: int = 3\r\n    backoff_s: float = 1.0\r\n\r\n\r\nclass ThingsBoardClient:\r\n    \"\"\"\r\n    Telemetry upload client using HTTP POST + JSON.\r\n    \"\"\"\r\n    def __init__(self, cfg: ThingsBoardConfig):\r\n        self.cfg = cfg\r\n\r\n    @property\r\n    def telemetry_url(self) -> str:\r\n        return f\"{self.cfg.host.rstrip('/')}/api/v1/{self.cfg.device_token}/telemetry\"\r\n\r\n    def send_telemetry(self, payload: Dict[str, Any]) -> Tuple[bool, Optional[int], str]:\r\n        \"\"\"\r\n        Sends telemetry with basic retry/backoff.\r\n        Returns: (ok, http_status, message)\r\n        \"\"\"\r\n        last_status = None\r\n        last_err = \"\"\r\n\r\n        for attempt in range(1, self.cfg.retries + 1):\r\n            try:\r\n                r = requests.post(self.telemetry_url, json=payload, timeout=self.cfg.timeout_s)\r\n                last_status = r.status_code\r\n                if r.status_code == 200:\r\n                    return True, r.status_code, \"OK\"\r\n                last_err = f\"HTTP {r.status_code}: {r.text[:200]}\"\r\n            except requests.RequestException as e:\r\n                last_err = f\"Request error: {e}\"\r\n\r\n            time.sleep(self.cfg.backoff_s * attempt)\r\n\r\n        return False, last_status, last_err\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/thingsboard_client.py b/src/thingsboard_client.py
--- a/src/thingsboard_client.py	(revision 9e7ce0ee5c3dc204ade615dbf3a5e703c5178985)
+++ b/src/thingsboard_client.py	(date 1766977307516)
@@ -10,8 +10,8 @@
     """
     ThingsBoard configuration.
     """
-    host: str  # e.g., https://thingsboard.cloud
-    device_token: str  # device access token
+    host: str https://thingsboard.cloud
+    device_token: 4lzxxn96epsem7gn3wiz
     timeout_s: int = 10
     retries: int = 3
     backoff_s: float = 1.0
